From: Tobias Heider <tobias.heider@canonical.com>
Date: Fri, 19 Sep 2025 12:47:57 +0200
Subject: log: hide HWID lookup error behind debug,
 this is expected on some machines

---
 pe.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/pe.c b/pe.c
index 96f778b..b6ee631 100644
--- a/pe.c
+++ b/pe.c
@@ -369,7 +369,8 @@ void pe_locate_sections(
 
                         EFI_STATUS err = chid_match(hwids, hwids_section[0].memory_size, DEVICE_TYPE_DEVICETREE, &device);
                         if (err != EFI_SUCCESS) {
-                                log_error_status(err, "HWID matching failed, no DT blob will be selected: %m");
+                                if (log_isdebug == true)
+                                        log_error_status(err, "HWID matching failed, no DT blob will be selected: %m");
                                 hwids = NULL;
                         }
                 }
